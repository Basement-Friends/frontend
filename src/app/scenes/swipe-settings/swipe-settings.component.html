<div id="wrapper">
    <div id="backbody">
        Value: {{ searchSettingsForm.value | json }}
        Looking for:
        <form (submit)="startSwiping()" [formGroup]="searchSettingsForm">
            <mat-label>Gender:</mat-label>
            <mat-radio-group formControlName="gender">
                @for(gender of genders; track gender){
                    <mat-radio-button [value]="gender">
                        {{ gender }}
                    </mat-radio-button>
                }
                <mat-radio-button [value]="null">
                    Doesn't matter
                </mat-radio-button>
            </mat-radio-group>
            <mat-form-field>                
                <mat-label>Playing games:</mat-label>
                <input #input type="text" aria-label="Games" matInput formArrayName="games" [matAutocomplete]="auto" (input)="filter()" (focus)="filter()">
                <mat-autocomplete requireSelection #auto="matAutocomplete" (optionSelected)="selected($event.option.value)" [displayWith]="displayGame">
                    @for(game of filteredOptions; track game){
                        <mat-option *ngIf="selectedGames.indexOf(game) === -1" [value]="game">{{ game.name }}</mat-option>    
                    }   
                </mat-autocomplete>
            </mat-form-field>
            <button mat-button type="submit">Start Swiping!</button>
            <h3>
                Games:
            </h3>
            <ng-container formArrayName="games">
                <h4 *ngFor="let game of selectedGames">
                    {{ game.name }}
                </h4>
            </ng-container>
        </form>    
    </div>
</div>